<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .product-card:hover { transform: translateY(-5px); transition: all 0.3s ease; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-green-600 text-white p-6 shadow-md text-center">
        <h1 class="text-2xl font-bold">Nosso Catálogo</h1>
        <p class="text-sm opacity-90">Peça agora pelo WhatsApp</p>
    </header>

    <main class="max-w-4xl mx-auto p-4">
        <!-- Filtros -->
        <div class="mb-6 flex gap-2 overflow-x-auto pb-2" id="categorias">
            <button onclick="filtrar('Todos')" class="bg-green-100 text-green-700 px-4 py-1 rounded-full font-medium">Todos</button>
            <button onclick="filtrar('Bebidas')" class="bg-white border px-4 py-1 rounded-full font-medium">Bebidas</button>
        </div>

        <!-- Grid de Produtos -->
        <div id="lista-produtos" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Gerado via JS -->
        </div>
    </main>

    <!-- Modal Carrinho -->
    <div id="carrinho-bar" class="fixed bottom-0 left-0 right-0 bg-white border-t p-4 shadow-[0_-5px_15px_rgba(0,0,0,0.1)] hidden">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div>
                <p class="text-sm text-gray-500">Total do pedido:</p>
                <p id="total-valor" class="text-xl font-bold text-green-600">R$ 0,00</p>
            </div>
            <button onclick="enviarWhatsApp()" class="bg-green-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-600">
                Finalizar Pedido
            </button>
        </div>
    </div>

    <script>
        const dados = {
            "whatsapp": "5565992242567",
            "produtos": [
                { "id": 1, "titulo": "teste", "descricao": "fdfvadf", "preco": 10.54, "imagem": "https://th.bing.com/th/id/R.f61eefaac493ce85361484e2b516c33c?rik=1cFP%2b9pF5GDOUQ&riu=http%3a%2f%2f1.bp.blogspot.com%2f-zSNBp8ja0ts%2fVT5RKeY4mMI%2fAAAAAAABDAg%2fxWh05EG8XEU%2fs1600%2fgreat-nature-landscape-2560x1600-wallpaper-4850.jpg&ehk=XXT6slOWAKGBDb094%2bJQA0e5U9BsOZCxpTqzLkxS1QM%3d&risl=&pid=ImgRaw&r=0", "categoria": "Bebidas" },
                { "id": 2, "titulo": "bljhuhgggk", "descricao": " nbjhjh", "preco": 8.0, "imagem": "https://th.bing.com/th/id/R.f61eefaac493ce85361484e2b516c33c?rik=1cFP%2b9pF5GDOUQ&riu=http%3a%2f%2f1.bp.blogspot.com%2f-zSNBp8ja0ts%2fVT5RKeY4mMI%2fAAAAAAABDAg%2fxWh05EG8XEU%2fs1600%2fgreat-nature-landscape-2560x1600-wallpaper-4850.jpg&ehk=XXT6slOWAKGBDb094%2bJQA0e5U9BsOZCxpTqzLkxS1QM%3d&risl=&pid=ImgRaw&r=0", "categoria": "Todos" }
            ],
            "zonas_entrega": [
                { "bairro": "Residencial Claúdio Marchetti", "valor_entrega": 0.68 }
            ]
        };

        let carrinho = [];

        function renderizarProdutos(filtro = 'Todos') {
            const container = document.getElementById('lista-produtos');
            container.innerHTML = '';
            
            const produtosFiltrados = filtro === 'Todos' ? dados.produtos : dados.produtos.filter(p => p.categoria === filtro);

            produtosFiltrados.forEach(p => {
                container.innerHTML += `
                    <div class="product-card bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100">
                        <img src="${p.imagem}" class="w-full h-48 object-cover">
                        <div class="p-4">
                            <span class="text-xs font-bold text-green-500 uppercase">${p.categoria}</span>
                            <h3 class="text-lg font-bold mt-1">${p.titulo}</h3>
                            <p class="text-gray-500 text-sm mb-4">${p.descricao}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-gray-900">R$ ${p.preco.toFixed(2)}</span>
                                <button onclick="adicionar(${p.id})" class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold active:scale-95 transition-transform">
                                    + Adicionar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function adicionar(id) {
            const produto = dados.produtos.find(p => p.id === id);
            carrinho.push(produto);
            atualizarCarrinho();
        }

        function atualizarCarrinho() {
            const total = carrinho.reduce((sum, item) => sum + item.preco, 0);
            const frete = dados.zonas_entrega[0].valor_entrega;
            const bar = document.getElementById('carrinho-bar');
            
            if (carrinho.length > 0) {
                bar.classList.remove('hidden');
                document.getElementById('total-valor').innerText = `R$ ${(total + frete).toFixed(2)} (inc. frete)`;
            }
        }

        function filtrar(cat) {
            renderizarProdutos(cat);
        }

        function enviarWhatsApp() {
            const itens = carrinho.map(i => `- ${i.titulo} (R$ ${i.preco})`).join('%0A');
            const total = (carrinho.reduce((sum, item) => sum + item.preco, 0) + dados.zonas_entrega[0].valor_entrega).toFixed(2);
            const msg = `Olá! Gostaria de fazer um pedido:%0A%0A${itens}%0A%0A*Taxa de entrega:* R$ ${dados.zonas_entrega[0].valor_entrega}%0A*Total:* R$ ${total}%0A*Bairro:* ${dados.zonas_entrega[0].bairro}`;
            
            window.open(`https://wa.me{dados.whatsapp}?text=${msg}`, '_blank');
        }

        renderizarProdutos();
    </script>
</body>
</html>
